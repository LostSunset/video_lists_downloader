# 使用者指南

## 概述

影片批量下載工具是一個功能豐富的桌面應用程式，支援 YouTube 和 Bilibili 影片下載。

## 功能總覽

### 核心功能
- 🎬 YouTube/Bilibili 影片與播放清單下載
- 📊 下載進度追蹤與歷史記錄
- 🔄 自動重試與斷點續傳
- 📝 字幕下載與嵌入

### 進階功能
- 🍪 自動 Cookie 提取（Firefox）
- ⌨️ 鍵盤快捷鍵
- 🖱️ 拖放支援
- 🎨 深色主題界面

---

## 詳細功能說明

### 輸入模式

#### 單一影片
適用於下載單個影片。直接貼上影片網址即可。

#### 播放清單
適用於下載整個播放清單。程式會自動：
- 偵測播放清單中的所有影片
- 跳過已下載的影片
- 記錄播放清單狀態以追蹤更新

#### 網址清單檔案
適用於批量下載多個不同來源的影片。
- 建立 `.txt` 文字檔
- 每行一個 URL
- 支援混合 YouTube 和 Bilibili 連結

---

### 畫質設定

| 選項 | 說明 |
|------|------|
| best | 最高可用畫質 |
| 4320p | 8K |
| 2160p | 4K |
| 1440p | 2K |
| 1080p | Full HD |
| 720p | HD |
| 480p | SD |
| worst | 最低畫質（節省空間） |

---

### 檔名模板

自訂下載檔案的命名規則。

#### 可用變數

| 變數 | 說明 | 範例 |
|------|------|------|
| `%(title)s` | 影片標題 | My Video |
| `%(id)s` | 影片 ID | dQw4w9WgXcQ |
| `%(uploader)s` | 上傳者 | Rick Astley |
| `%(upload_date)s` | 上傳日期 | 20210101 |
| `%(duration)s` | 影片長度（秒） | 213 |
| `%(resolution)s` | 解析度 | 1920x1080 |
| `%(ext)s` | 副檔名 | mp4 |

#### 範例模板

```
%(title)s [%(id)s]
→ Never Gonna Give You Up [dQw4w9WgXcQ].mp4

%(uploader)s - %(title)s
→ Rick Astley - Never Gonna Give You Up.mp4

%(upload_date)s_%(id)s
→ 20210101_dQw4w9WgXcQ.mp4
```

---

### Cookie 管理

#### 為什麼需要 Cookie？

Cookie 用於存取需要登入的內容：
- 會員專屬影片
- 年齡限制內容
- 地區限制內容（需搭配 VPN）

#### 提取步驟

1. 在 **Firefox** 瀏覽器登入平台
2. 確保登入成功（可正常觀看會員影片）
3. **完全關閉** Firefox（包括背景程序）
4. 點擊程式中的「提取」按鈕
5. 點擊「測試」確認狀態為 🟢

#### 狀態指示

| 圖示 | 狀態 | 說明 |
|------|------|------|
| 🟢 | 有效 | Cookie 可正常使用 |
| 🟡 | 未驗證 | 尚未測試 Cookie |
| 🔴 | 無效 | Cookie 已過期或無效 |

---

### 字幕設定

#### 選項說明

| 選項 | 說明 |
|------|------|
| 下載字幕 | 下載影片提供的字幕 |
| 下載自動生成字幕 | 下載 YouTube 自動生成的字幕 |
| 僅下載字幕 | 只下載字幕，不下載影片 |

#### 語言設定

使用逗號分隔多語言：
```
zh-TW,zh,en,ja
```

---

## 播放清單更新追蹤

程式會記錄每個播放清單的狀態：
- 上次檢查時間
- 已知的影片 ID 列表

當您再次檢查播放清單時，程式會自動偵測新增的影片。

---

## 快捷鍵一覽

| 快捷鍵 | 功能 |
|--------|------|
| `Ctrl+Enter` | 開始下載 |
| `Ctrl+Shift+V` | 快速貼上 URL |
| `Ctrl+O` | 選擇下載路徑 |
| `F1` | 顯示說明 |
| `Ctrl+Q` | 退出程式 |
